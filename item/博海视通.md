# 博海视通

## 环境待遇

- 试用期不买社保，不买公积金

- 转正后买社保，不买公积金

- 公司有自带的台式电脑，不需要自带笔记本

- 目前主要架构为 springboot + mybatis

- 环境还可以，19年新成立的公司，目前做小程序，未来规划做APP

##  面试提问

#### 读写分离如何操作?

1.什么是读写分离<br>

> 读写分离其实就是将数据库分为主从数据库，一个主数据库用于写操作，多个从数据库用于读操作。

2.如何保证主从数据库数据的一致性?

> - ## 保证Mysql（Master端）日志和数据的统一性，处理宕机、断电等异常情况。 ##
>
> 以下配置
>
> ```mysql
> #以下配置保证bin-log写入后事务提交流程会变成两阶段提交，这里的两阶段提交并不涉及分布式事务，mysql把它称之为内部xa事务
> innodb_support_xa=ON
> #以下配置能够保证不论是MySQL Crash 还是OS Crash 或者是主机断电重启都不会丢失数据
> innodb_doublewrite=ON
> #以下配置保证每次事务提交后，都能实时刷新到磁盘中，尤其是确保每次事务对应的binlog都能及时刷新到磁盘中，只要有了binlog，InnoDB就有办法做数据恢复，不至于导致主从复制的数据丢失
> innodb_flush_log_at_trx_commit = 1
> sync_binlog = 1
> ```
>
> - ## 保证MySQL（slave端）同步时和master端保持一致 ##
>
>   >1.半同步复制（Mysql5.5 之后支持）
>   >
>   >简单的说，就是主库在进行增删改操作的时候,会等从库复制了并且通知了主库,才会把这个操作叫做成功.这样能轻易的保证数据的一致性,但是缺点就是慢.
>   >
>   >2.数据库中间件
>   >
>   >假设有数据库中间件，那么所有的数据库请求都走数据库中间件，关于写的操作路由到主库，关于读的操作路由到写库，然后我们在中间件中记录写库操作的一个key，设置时间为1s，给从库复制数据的时间，当在这1s内，有读操作请求时，我们就路由到主库。
>   >
>   >

3.读写分离主要用来解决什么问题？

在大部分的互联网项目中，其实往往都是读操作多余写操作的N倍，当读操作多了之后，数据库的读取就首先成为了我们数据库的瓶颈，这个时候，我们想提升数据库的性能，就可以使用读写分离。

4.读写分离是必须的嘛？有可替代方式嘛？

可以使用缓存，当读写分离和缓存二选一的时候，肯定是优先选择缓存。因为缓存的上手成本低，缓存的使用成本比一个库低，开发也容易。那么缓存是不是没有问题呢？肯定也是有的，如果当缓存崩了，那么所有的压力又会转移到数据库，到时候我们的数据库肯定也崩。

5.数据库的常见瓶颈是什么？

数据库的常见瓶颈是数据容量的瓶颈，如有些数据是一直在增加，而且历史记录也会保存的数据，比如说订单数据。那么怎么解决呢？可以使用数据库水平切分，何为数据库水平切分？就是通过某个算法，将数据库水平切割，切割下来的数据没有重复，但是组合在一起又是完成的数据。

6.读写分离如何实现？

> 设置多个数据源
>
> - Spring AOP 切面实现，当方法为 selectxxx、findxxx、isxxx等走主数据源，其他的则走写数据源 [参考链接](https://www.cnblogs.com/tilamisu007/p/9360664.html)
> - 中间件实现读写分离 [参考链接](https://www.cnblogs.com/tilamisu007/p/9360664.html)
> - [mysql 数据库配置主从数据库](https://blog.csdn.net/m0_37997046/article/details/83793110)



#### 对于高并发，有何理解？如何设计？

#### 公司前端给后端的数据，前端给后端的数据，数据加密用什么？

#### 对称加密和非对称加密的区别是什么？

#### String StringBuffer StringBuilder 理解

#### 锁是什么？锁有多少种类型？

#### sychcnized 和 lock 锁

#### 线程是什么？线程的状态有哪些？

#### mysql的存储过程，触发器

#### 存储过程的优缺点？